<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Вопросы</title>
</head>
<body>
<div>
    <h2 th:text="${quiz.name}"></h2>
    <h2 th:text="${quiz.description}"></h2>
</div>
<div th:switch="${questionsList.size()}">
    <h2 th:case="0">Пока что нет ни одного вопроса</h2>
    <div th:case="*">
        <h2>Список вопросов:</h2>
        <table>
            <tbody>
            <tr th:each="questionFromList : ${questionsList}">
                <td th:text="${questionFromList.task}"></td>
                <td th:each="answer,i: ${questionFromList.answers.entrySet()}">
                    <label>
                        <p th:text="${answer.getValue()}"></p>
                    </label>
                </td>
                <td>
                    <p th:text="${questionFromList.rightAnswerNumber}"></p>
                </td>
                <td>
                    <a th:href="@{/edit/{quiz_id}/questions/{question_id}
                    (quiz_id=${quiz.id}, question_id=${questionFromList.id})}">Удалить</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div>
        <form action="#" th:action="@{/edit/{quiz_id}/questions/add (quiz_id=${quiz.id})}" th:object="${question}" method="post">
            <label for="name">Введите вопрос:</label>
            <br>
            <textarea type="text" rows="3" th:field="*{task}" id="name" placeholder="Вопрос"></textarea>
            <p th:if="${#fields.hasErrors('task')}" th:errors="*{task}">Name Error</p>
            <br>
            <input type="radio" th:field="*{rightAnswerNumber}" th:value="${1}" />
            <input type="text" th:field="*{answers[1]}" placeholder="Вариант ответа"/>
            <br>
            <input type="radio" th:field="*{rightAnswerNumber}" th:value="${2}" />
            <input type="text" th:field="*{answers[2]}" placeholder="Вариант ответа"/>
            <br>
            <input type="radio" th:field="*{rightAnswerNumber}" th:value="${3}" />
            <input type="text" th:field="*{answers[3]}" placeholder="Вариант ответа"/>
            <br>
            <input type="submit" value="Добавить вопрос">
        </form>
    </div>
    <div>
        <a href="/">Подтвердить</a>
    </div>
</div>
</body>
</html>